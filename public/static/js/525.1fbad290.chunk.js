"use strict";(self.webpackChunktracetemp=self.webpackChunktracetemp||[]).push([[525],{53525:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(74165),a=t(15861),i=t(70885),s=t(72791),o=t(66934),l=t(34663),c=t(28029),u=t(63466),d=t(5403),h=t(80184),m=(0,o.ZP)(l.Z)((function(e){return{height:96,display:"flex",justifyContent:"space-between",padding:e.theme.spacing(0,1,0,0)}})),p=(0,o.ZP)(c.Z)((function(e){var n=e.theme;return{width:300,transition:n.transitions.create(["box-shadow","width"],{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.shorter}),"&.Mui-focused":{width:400,boxShadow:200},"& fieldset":{borderWidth:"1px !important",borderColor:"0px 5px 6px -3px alpha(color, 0.2),0px 9px 12px 1px alpha(color, 0.14),0px 3px 16px 2px alpha(color, 0.12) !important"}}}));function x(e){var n=e.filterName,t=e.onFilterName;return(0,h.jsx)(m,{children:(0,h.jsx)(p,{value:n,onChange:t,type:"number",placeholder:"Search student number...",startAdornment:(0,h.jsx)(u.Z,{position:"start",children:(0,h.jsx)(d.Z,{})})})})}var f=t(28342),Z=t(4942),g=t(1413),v=t(61889),j=t(36151),b=t(40254),_=t(5289),C=t(97123),w=t(39157),P=t(65661),y=t(74569),S=t.n(y),k=function(e){return/\d/.test(e)};var N=function(e){var n=e.open,t=e.account,r=e.handleClose,a=(0,s.useState)({stud_number:t.stud_number,first_name:t.first_name,last_name:t.last_name,middle_name:t.middle_name,section:t.section}),o=(0,i.Z)(a,2),l=o[0],c=o[1],u=(0,s.useState)(),d=(0,i.Z)(u,2),m=d[0],p=d[1],x=l.stud_number,f=l.first_name,y=l.last_name,N=l.middle_name,R=l.section;s.useEffect((function(){c((function(e){return{stud_number:t.stud_number,first_name:t.first_name,last_name:t.last_name,middle_name:t.middle_name,section:t.section}}))}),[t]);var M=function(e){k(e.target.value)||c((0,g.Z)((0,g.Z)({},l),{},(0,Z.Z)({},e.target.name,e.target.value)))};return(0,h.jsx)(_.Z,{open:n,onClose:r,children:(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S().post("".concat("http://34.135.63.12","/students/update"),JSON.stringify({first_name:f,last_name:y,middle_name:N,section:R,serial:t.serial}),{headers:{"Content-Type":"application/json"}}).then((function(e){c({stud_number:"",first_name:"",last_name:"",middle_name:"",section:""}),p(void 0),r()})).catch((function(e){console.log(e),p("Please check your Internet connection and try again.")}))},children:[(0,h.jsx)(P.Z,{children:"Update Account"}),(0,h.jsx)(w.Z,{children:(0,h.jsxs)(v.ZP,{container:!0,spacing:2,mt:3,children:[(0,h.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,h.jsx)(b.Z,{name:"serial",label:"Serial Number",value:t.serial,disabled:!0,fullWidth:!0,variant:"outlined"})}),(0,h.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,h.jsx)(b.Z,{autoFocus:!0,name:"first_name",label:"First Name",value:f,onChange:M,inputProps:{maxLength:20},fullWidth:!0,variant:"outlined",required:!0})}),(0,h.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,h.jsx)(b.Z,{name:"middle_name",label:"Middle Name",value:N,inputProps:{maxLength:20},onChange:M,fullWidth:!0,variant:"outlined",required:!0})}),(0,h.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,h.jsx)(b.Z,{name:"last_name",label:"Last Name",value:y,inputProps:{maxLength:20},onChange:M,fullWidth:!0,variant:"outlined",required:!0})}),(0,h.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,h.jsx)(b.Z,{name:"stud_number",label:"Student Number",type:"number",value:x,disabled:!0,inputProps:{min:111111111,max:999999999},onChange:function(e){return c((0,g.Z)((0,g.Z)({},l),{},(0,Z.Z)({},e.target.name,e.target.value)))},fullWidth:!0,variant:"outlined",required:!0})}),(0,h.jsx)(v.ZP,{item:!0,xs:12,sm:6,children:(0,h.jsx)(b.Z,{name:"section",label:"Course",value:R,onChange:function(e){k(e.target.value)||c((0,g.Z)((0,g.Z)({},l),{},(0,Z.Z)({},e.target.name,e.target.value.toUpperCase())))},inputProps:{maxLength:6},fullWidth:!0,variant:"outlined",required:!0,error:void 0!==m,helperText:m})})]})}),(0,h.jsxs)(C.Z,{children:[(0,h.jsx)(j.Z,{color:"error",onClick:r,children:"Cancel"}),(0,h.jsx)(j.Z,{type:"submit",children:"Save Changes"})]})]})})},R=t(51691),M=t(1656);function W(e){var n=e.open,t=e.name,r=e.serial,a=e.handleClose;return(0,h.jsxs)(_.Z,{open:n,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,h.jsx)(P.Z,{id:"alert-dialog-title",children:"Are you sure you want to delete "+(0,M.I)(t)}),(0,h.jsx)(w.Z,{children:(0,h.jsx)(R.Z,{id:"alert-dialog-description",children:"Please keep in mind that by clicking 'Yes', all ".concat((0,M.I)(t),"'s logs will also be deleted and cannot be retrieved again.")})}),(0,h.jsxs)(C.Z,{children:[(0,h.jsx)(j.Z,{onClick:a,children:"Cancel"}),(0,h.jsx)(j.Z,{onClick:function(){S().post("".concat("http://34.135.63.12","/students/delete"),JSON.stringify({serial:r}),{headers:{"Content-Type":"application/json"}}).then((function(e){a()})).catch((function(e){return console.log(e)}))},autoFocus:!0,children:"Yes"})]})]})}var I=t(64554),L=t(20890),F=t(57621),D=t(39281),T=t(79836),q=t(35855),A=t(53382),E=t(53994),O=t(63033),V=t(93044),z=t(53767),U=t(13400),H=t(82477),J=t(29686),Y=t(41286),B=t(27247),X=[{id:"avatar",label:"",alignRight:!1},{id:"first_name",label:"First Name",alignRight:!1},{id:"middle_name",label:"Middle Name.",alignRight:!1},{id:"last_name",label:"Last Name",alignRight:!1},{id:"student_id",label:"Student No.",alignRight:!1},{id:"course",label:"Course",alignRight:!1},{id:"options",label:"",alignRight:!0}];function G(){var e=(0,s.useState)([]),n=(0,i.Z)(e,2),t=n[0],o=n[1],l=(0,s.useState)([]),c=(0,i.Z)(l,2),u=c[0],d=c[1],m=(0,s.useState)(5),p=(0,i.Z)(m,2),Z=p[0],g=p[1],v=(0,s.useState)(0),j=(0,i.Z)(v,2),b=j[0],_=j[1],C=(0,s.useState)(!1),w=(0,i.Z)(C,2),P=w[0],y=w[1],S=(0,s.useState)(),k=(0,i.Z)(S,2),R=k[0],G=k[1],K=(0,s.useState)(""),Q=(0,i.Z)(K,2),$=Q[0],ee=Q[1],ne=(0,s.useState)(!1),te=(0,i.Z)(ne,2),re=te[0],ae=te[1];(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,J.lV)();case 3:n=e.sent,o((function(e){return n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,s.useEffect)((function(){d((function(e){return t.filter((function(e){return e.stud_number.includes($)})).slice(b*Z,b*Z+Z)}))}),[Z,b,t,$]);var ie=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!1),ae(!1),e.prev=2,e.next=5,(0,J.lV)();case 5:n=e.sent,o(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(F.Z,{sx:{p:2},children:[(0,h.jsx)(x,{filterName:$,onFilterName:function(e){return ee(e.target.value)}}),(0,h.jsx)(I.Z,{sx:{overflowX:"auto"},children:(0,h.jsx)(D.Z,{sx:{minWidth:1e3},children:(0,h.jsxs)(T.Z,{children:[(0,h.jsx)(f.Z,{orderBy:"name",order:"asc",headLabel:X,onRequestSort:function(e){}}),(0,h.jsx)(A.Z,{children:u.map((function(e){return(0,h.jsxs)(q.Z,{hover:!0,tabIndex:-1,role:"checkbox",children:[(0,h.jsx)(E.Z,{padding:"checkbox",children:(0,h.jsx)(V.Z,{children:e.first_name.charAt(0).toUpperCase()+e.last_name.charAt(0).toUpperCase()})}),(0,h.jsx)(E.Z,{component:"th",scope:"row",children:(0,h.jsx)(L.Z,{variant:"subtitle2",noWrap:!0,children:(0,M.I)(e.first_name)})}),(0,h.jsx)(E.Z,{component:"th",scope:"row",children:(0,h.jsx)(L.Z,{variant:"subtitle2",noWrap:!0,children:(0,M.I)(e.middle_name)})}),(0,h.jsx)(E.Z,{component:"th",scope:"row",children:(0,h.jsx)(L.Z,{variant:"subtitle2",noWrap:!0,children:(0,M.I)(e.last_name)})}),(0,h.jsx)(E.Z,{align:"left",children:e.stud_number}),(0,h.jsx)(E.Z,{align:"left",children:e.section}),(0,h.jsx)(E.Z,{align:"right",children:(0,h.jsxs)(z.Z,{direction:"row",justifyContent:"flex-end",children:[(0,h.jsx)(U.Z,{color:"info",onClick:function(){return G(e),void y(!0)},children:(0,h.jsx)(H.Z,{title:"Edit",children:(0,h.jsx)(Y.Z,{})})}),(0,h.jsx)(U.Z,{color:"error",onClick:function(){return G(e),void ae(!0)},children:(0,h.jsx)(H.Z,{title:"Delete",children:(0,h.jsx)(B.Z,{})})})]})})]},e.stud_number)}))})]})})}),(0,h.jsx)(O.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:Z,page:b,onPageChange:function(e,n){return _(n)},onRowsPerPageChange:function(e){g(parseInt(e.target.value,10)),_(0)}}),R&&(0,h.jsx)(N,{account:R,open:P,handleClose:ie}),R&&(0,h.jsx)(W,{name:R.first_name+" "+R.last_name,serial:R.serial,open:re,handleClose:ie})]})}},27247:function(e,n,t){var r=t(95318);n.Z=void 0;var a=r(t(45649)),i=t(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=s},41286:function(e,n,t){var r=t(95318);n.Z=void 0;var a=r(t(45649)),i=t(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=s},51691:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(63366),a=t(87462),i=t(72791),s=t(94419),o=t(66934),l=t(31402),c=t(20890),u=t(21217);function d(e){return(0,u.Z)("MuiDialogContentText",e)}(0,t(75878).Z)("MuiDialogContentText",["root"]);var h=t(80184),m=["children"],p=(0,o.ZP)(c.Z,{shouldForwardProp:function(e){return(0,o.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,n){return n.root}})({}),x=i.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiDialogContentText"}),i=(0,r.Z)(t,m),o=function(e){var n=e.classes,t=(0,s.Z)({root:["root"]},d,n);return(0,a.Z)({},n,t)}(i);return(0,h.jsx)(p,(0,a.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:i},t,{classes:o}))}))}}]);
//# sourceMappingURL=525.1fbad290.chunk.js.map