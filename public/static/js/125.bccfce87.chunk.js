"use strict";(self.webpackChunktracetemp=self.webpackChunktracetemp||[]).push([[125],{89125:function(e,n,t){t.r(n),t.d(n,{default:function(){return te}});var a=t(74165),i=t(15861),r=t(70885),l=t(72791),s=t(66934),o=t(34663),c=t(28029),u=t(63466),d=t(36151),m=t(5403),h=t(95193),x=t(42419),Z=t(80184),f=(0,s.ZP)(o.Z)((function(e){return{height:96,display:"flex",justifyContent:"space-between",padding:e.theme.spacing(0,1,0,0)}})),p=(0,s.ZP)(c.Z)((function(e){var n=e.theme;return{width:300,transition:n.transitions.create(["box-shadow","width"],{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.shorter}),"&.Mui-focused":{width:400,boxShadow:200},"& fieldset":{borderWidth:"1px !important",borderColor:"0px 5px 6px -3px alpha(color, 0.2),0px 9px 12px 1px alpha(color, 0.14),0px 3px 16px 2px alpha(color, 0.12) !important"}}}));function j(e){var n=e.filterName,t=e.onFilterName,a=e.open,i=(0,h.Z)("(min-width:600px)");return(0,Z.jsxs)(f,{children:[(0,Z.jsx)(p,{value:n,onChange:t,placeholder:"Search admin name...",startAdornment:(0,Z.jsx)(u.Z,{position:"start",children:(0,Z.jsx)(m.Z,{})})}),i&&(0,Z.jsx)(d.Z,{variant:"contained",size:"medium",onClick:a,startIcon:(0,Z.jsx)(x.Z,{}),children:"New Admin"})]})}var g=t(4942),v=t(1413),b=t(61889),C=t(40254),_=t(5289),w=t(97123),P=t(39157),S=t(65661),k=t(61419),y=t(10765),A=t(85523),W=t(68096),E=t(17133),N=t(29686);var I=function(e){var n=e.open,t=e.handleClose,a=e.handleSuccess,i=(0,l.useState)({first_name:"",last_name:"",email:"",admin:!1}),s=(0,r.Z)(i,2),o=s[0],c=s[1],u=(0,l.useState)("guard"),m=(0,r.Z)(u,2),h=m[0],x=m[1],f=(0,l.useState)(),p=(0,r.Z)(f,2),j=p[0],I=p[1],R=o.first_name,F=o.last_name,L=o.email,q=o.admin;l.useEffect((function(){c((function(e){return(0,v.Z)((0,v.Z)({},e),{},{admin:"guard"!==h})}))}),[h]);var D=function(e){var n;n=e.target.value,/\d/.test(n)||c((0,v.Z)((0,v.Z)({},o),{},(0,g.Z)({},e.target.name,e.target.value)))};return(0,Z.jsx)(_.Z,{open:n,onClose:t,children:(0,Z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),(0,N.A7)({first_name:R,last_name:F,email:L,admin:q}).then((function(e){c({first_name:"",last_name:"",email:"",admin:!1}),I(void 0),a()})).catch((function(e){console.log(e),I("Email is already taken or slow Internet connection. Please try again.")}))},children:[(0,Z.jsx)(S.Z,{children:"Register Admin"}),(0,Z.jsx)(P.Z,{children:(0,Z.jsxs)(b.ZP,{container:!0,spacing:2,mt:3,children:[(0,Z.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(C.Z,{autoFocus:!0,name:"first_name",label:"First Name",value:R,onChange:D,inputProps:{maxLength:20},fullWidth:!0,variant:"outlined",required:!0})}),(0,Z.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(C.Z,{name:"last_name",label:"Last Name",value:F,inputProps:{maxLength:20},onChange:D,fullWidth:!0,variant:"outlined",required:!0})}),(0,Z.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(C.Z,{name:"email",type:"email",label:"Email",value:L,onChange:function(e){return c((0,v.Z)((0,v.Z)({},o),{},(0,g.Z)({},e.target.name,e.target.value)))},fullWidth:!0,variant:"outlined",required:!0,error:void 0!==j,helperText:j})}),(0,Z.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsxs)(W.Z,{children:[(0,Z.jsx)(E.Z,{id:"demo-row-radio-buttons-group-label",children:"Position"}),(0,Z.jsxs)(y.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",value:h,onChange:function(e,n){return x(n)},name:"row-radio-buttons-group",children:[(0,Z.jsx)(A.Z,{value:"guard",control:(0,Z.jsx)(k.Z,{}),label:"Guard"}),(0,Z.jsx)(A.Z,{value:"admin",control:(0,Z.jsx)(k.Z,{}),label:"Admin"})]})]})})]})}),(0,Z.jsxs)(w.Z,{children:[(0,Z.jsx)(d.Z,{color:"error",onClick:t,children:"Cancel"}),(0,Z.jsx)(d.Z,{type:"submit",children:"Register"})]})]})})},R=t(28342),F=t(41758);var L=function(e){var n=e.open,t=e.adminAccount,a=e.handleClose,i=e.handleSuccess,s=(0,l.useState)({first_name:t.first_name,last_name:t.last_name,email:t.email,admin:t.admin}),o=(0,r.Z)(s,2),c=o[0],u=o[1],m=(0,l.useState)(t.admin?"admin":"guard"),h=(0,r.Z)(m,2),x=h[0],f=h[1],p=(0,l.useState)(),j=(0,r.Z)(p,2),I=j[0],R=j[1],F=c.first_name,L=c.last_name,q=c.email,D=c.admin;l.useEffect((function(){u((function(e){return{first_name:t.first_name,last_name:t.last_name,email:t.email,admin:t.admin}})),f((function(e){return t.admin,"admin"}))}),[t]),l.useEffect((function(){u((function(e){return(0,v.Z)((0,v.Z)({},e),{},{admin:"guard"!==x})}))}),[x]);var G=function(e){var n;n=e.target.value,/\d/.test(n)||u((0,v.Z)((0,v.Z)({},c),{},(0,g.Z)({},e.target.name,e.target.value)))};return(0,Z.jsx)(_.Z,{open:n,onClose:a,children:(0,Z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),(0,N.QO)({first_name:F,last_name:L,email:q,admin:D}).then((function(e){u({first_name:"",last_name:"",email:"",admin:!1}),R(void 0),i()})).catch((function(e){console.log(e),R("Email is already taken or slow Internet connection. Please try again.")}))},children:[(0,Z.jsx)(S.Z,{children:"Update Admin"}),(0,Z.jsx)(P.Z,{children:(0,Z.jsxs)(b.ZP,{container:!0,spacing:2,mt:3,children:[(0,Z.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(C.Z,{autoFocus:!0,name:"first_name",label:"First Name",value:F,onChange:G,inputProps:{maxLength:20},fullWidth:!0,variant:"outlined",required:!0})}),(0,Z.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(C.Z,{name:"last_name",label:"Last Name",value:L,inputProps:{maxLength:20},onChange:G,fullWidth:!0,variant:"outlined",required:!0})}),(0,Z.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(C.Z,{name:"email",type:"email",label:"Email",disabled:!0,value:q,fullWidth:!0,variant:"outlined",required:!0,error:void 0!==I,helperText:I})}),(0,Z.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsxs)(W.Z,{children:[(0,Z.jsx)(E.Z,{id:"demo-row-radio-buttons-group-label",children:"Position"}),(0,Z.jsxs)(y.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",value:x,onChange:function(e,n){return f(n)},name:"row-radio-buttons-group",children:[(0,Z.jsx)(A.Z,{value:"guard",control:(0,Z.jsx)(k.Z,{}),label:"Guard"}),(0,Z.jsx)(A.Z,{value:"admin",control:(0,Z.jsx)(k.Z,{}),label:"Admin"})]})]})})]})}),(0,Z.jsxs)(w.Z,{children:[(0,Z.jsx)(d.Z,{color:"error",onClick:a,children:"Cancel"}),(0,Z.jsx)(d.Z,{type:"submit",children:"Save Changes"})]})]})})},q=t(51691),D=t(1656);function G(e){var n=e.open,t=e.name,a=e.email,i=e.handleClose;return(0,Z.jsxs)(_.Z,{open:n,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,Z.jsx)(S.Z,{id:"alert-dialog-title",children:"Are you sure you want to delete "+(0,D.I)(t)}),(0,Z.jsx)(P.Z,{children:(0,Z.jsx)(q.Z,{id:"alert-dialog-description",children:"Please keep in mind that by clicking 'Yes', all ".concat((0,D.I)(t),"'s this person can no longer login in this platform.")})}),(0,Z.jsxs)(w.Z,{children:[(0,Z.jsx)(d.Z,{onClick:i,children:"Cancel"}),(0,Z.jsx)(d.Z,{onClick:function(){(0,N.jY)(a).then((function(e){i()})).catch((function(e){return console.log(e)}))},autoFocus:!0,children:"Yes"})]})]})}var O=t(64554),U=t(20890),Y=t(57621),T=t(39281),z=t(79836),B=t(35855),M=t(53382),Q=t(53994),X=t(63033),H=t(93044),J=t(53767),K=t(13400),V=t(82477),$=t(41286),ee=t(27247),ne=[{id:"avatar",label:"",alignRight:!1},{id:"first_name",label:"First Name",alignRight:!1},{id:"last_name",label:"Last Name",alignRight:!1},{id:"email",label:"Email",alignRight:!1},{id:"position",label:"Position",alignRight:!1},{id:"options",label:"",alignRight:!0}];function te(){var e=(0,l.useState)([]),n=(0,r.Z)(e,2),t=n[0],s=n[1],o=(0,l.useState)([]),c=(0,r.Z)(o,2),u=c[0],d=c[1],m=(0,l.useState)(5),h=(0,r.Z)(m,2),x=h[0],f=h[1],p=(0,l.useState)(0),g=(0,r.Z)(p,2),v=g[0],b=g[1],C=(0,l.useState)(!1),_=(0,r.Z)(C,2),w=_[0],P=_[1],S=(0,l.useState)(),k=(0,r.Z)(S,2),y=k[0],A=k[1],W=(0,l.useState)(""),E=(0,r.Z)(W,2),q=E[0],te=E[1],ae=(0,l.useState)(!1),ie=(0,r.Z)(ae,2),re=ie[0],le=ie[1],se=(0,l.useState)(!1),oe=(0,r.Z)(se,2),ce=oe[0],ue=oe[1];(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,N.fW)();case 3:n=e.sent,s((function(e){return n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){d((function(e){return t.filter((function(e){return e.first_name.includes(q)||e.last_name.includes(q)})).slice(v*x,v*x+x)}))}),[x,v,t,q]);var de=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!1),ue(!1),le(!1),e.prev=3,e.next=6,(0,N.fW)();case 6:n=e.sent,s(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsxs)(Y.Z,{sx:{p:2},children:[(0,Z.jsx)(j,{filterName:q,onFilterName:function(e){return te(e.target.value)},open:function(){return P(!0)}}),(0,Z.jsx)(O.Z,{sx:{overflowX:"auto"},children:(0,Z.jsx)(T.Z,{sx:{minWidth:1e3},children:(0,Z.jsxs)(z.Z,{children:[(0,Z.jsx)(R.Z,{orderBy:"name",order:"asc",headLabel:ne,onRequestSort:function(e){}}),(0,Z.jsx)(M.Z,{children:u.map((function(e){return(0,Z.jsxs)(B.Z,{hover:!0,tabIndex:-1,role:"checkbox",children:[(0,Z.jsx)(Q.Z,{padding:"checkbox",children:(0,Z.jsx)(H.Z,{children:e.first_name.charAt(0).toUpperCase()+e.last_name.charAt(0).toUpperCase()})}),(0,Z.jsx)(Q.Z,{component:"th",scope:"row",children:(0,Z.jsx)(U.Z,{variant:"subtitle2",noWrap:!0,children:(0,D.I)(e.first_name)})}),(0,Z.jsx)(Q.Z,{component:"th",scope:"row",children:(0,Z.jsx)(U.Z,{variant:"subtitle2",noWrap:!0,children:(0,D.I)(e.last_name)})}),(0,Z.jsx)(Q.Z,{align:"left",children:e.email}),(0,Z.jsx)(Q.Z,{align:"left",children:e.admin?(0,Z.jsx)(F.Z,{color:"success",children:"Admin"}):(0,Z.jsx)(F.Z,{color:"info",children:"Guard"})}),(0,Z.jsx)(Q.Z,{align:"right",children:(0,Z.jsxs)(J.Z,{direction:"row",justifyContent:"flex-end",children:[(0,Z.jsx)(K.Z,{color:"info",onClick:function(){return A(e),void le(!0)},children:(0,Z.jsx)(V.Z,{title:"Edit",children:(0,Z.jsx)($.Z,{})})}),(0,Z.jsx)(K.Z,{color:"error",onClick:function(){return A(e),void ue(!0)},children:(0,Z.jsx)(V.Z,{title:"Delete",children:(0,Z.jsx)(ee.Z,{})})})]})})]},e.email)}))})]})})}),(0,Z.jsx)(X.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:x,page:v,onPageChange:function(e,n){return b(n)},onRowsPerPageChange:function(e){f(parseInt(e.target.value,10)),b(0)}}),y&&(0,Z.jsx)(L,{adminAccount:y,open:re,handleClose:function(){return le(!1)},handleSuccess:de}),y&&(0,Z.jsx)(G,{name:y.first_name+" "+y.last_name,email:y.email,open:ce,handleClose:de}),(0,Z.jsx)(I,{handleClose:function(){return P(!1)},handleSuccess:de,open:w})]})}}}]);
//# sourceMappingURL=125.bccfce87.chunk.js.map